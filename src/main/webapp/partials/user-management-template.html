<div class="panel panel-default" ng-if="$root.user.roles.ROLE_ADMIN">
	<div class="panel-body">
		<div class="row">
			<div class="col-xs-12">
				<div>

					<div class="col-xs-12">
						<div class="form-group">
							<label>Korisnicko ime:</label> <input type="text"
								class="form-control" name="username" ng-model="vm.user.username">
						</div>
						<div class="form-group">
							<label>Password:</label> <input type="password"
								class="form-control" name="password" ng-model="vm.user.password">
						</div>
						<div class="form-group">
							<label>Ime:</label> <input type="text" class="form-control"
								name="name" ng-model="vm.user.name">
						</div>
						<div class="form-group">
							<label>Prezime:</label> <input type="text" class="form-control"
								name="surname" ng-model="vm.user.surname">
						</div>
						<div class="form-group">
							<label>Email:</label> <input type="email" class="form-control"
								name="name" ng-model="vm.user.email">
						</div>
						<div class="form-group">
							<label>Broj treninga:</label> <input type="text"
								class="form-control" name="name" ng-model="vm.user.sessionsLeft">
						</div>
						<div class="form-group">
							<label>Da li je aktivan: <input type="checkbox" value=""
								class="form-control" name="isAdmin" ng-model="vm.user.isActive"
								ng-checked="vm.user.isActive">
							</label>
						</div>
						<div class="form-group">
							<div class='input-group date' id='datetimepicker-paid'>
								<input type='text' class="form-control"
									ng-model="vm.user.datePaid" /> <span class="input-group-addon">
									<span class="glyphicon glyphicon-calendar"></span>
								</span>
							</div>
						</div>
						<div class="form-group">
							<div class='input-group date' id='datetimepicker-expiring'>
								<input type='text' class="form-control"
									ng-model="vm.user.dateExpiring" /> <span
									class="input-group-addon"> <span
									class="glyphicon glyphicon-calendar"></span>
								</span>
							</div>
						</div>
						<div class="form-group">
							<label>Da li je admin: <input type="checkbox" value=""
								class="form-control" name="isAdmin" ng-model="vm.user.isAdmin"
								ng-checked="vm.user.isAdmin">
							</label>
						</div>

						<button type="button" class="btn btn-default pull-right"
							ng-click="vm.editingInProgress ? vm.saveEditedUser() : vm.createUser()">Sacuvaj</button>


						<br /> <br /> <br />

						<div class="col-xs-12">
							<table ng-table="vm.users" class="table" show-filter="true">
								<tr ng-repeat="user in $data">
									<td title="'Ime'" filter="{ name: 'text'}" sortable="'id'">{{user.name}}</td>
									<td title="'Prezime'" filter="{ surname: 'text'}"
										sortable="'surname'">{{user.surname}}</td>
									<td title="'Username'" filter="{ username : 'text'}"
										sortable="'username'">{{user.username}}</td>
									<td title="'Email'" filter="{ email: 'text'}"
										sortable="'email'">{{user.email}}</td>
									<td title="'Broj treninga'" filter="{ sessionsLeft: 'number'}"
										sortable="'sessionsLeft'">{{user.sessionsLeft}}</td>
									<td title="'Aktivan'" filter="{ isActive: 'text'}"
										sortable="'isActive'">{{user.isActive}}</td>
									<td title="'Admin'" filter="{ isAdmin: 'text'}"
										sortable="'isAdmin'">{{user.isAdmin}}</td>
									<td title="'Datum uplate'" filter="{ datePaid: 'text'}"
										sortable="'datePaid'">{{user.datePaid}}</td>
									<td title="'Datum isteka'" filter="{ dateExpiring: 'text'}"
										sortable="'dateExpiring'">{{user.dateExpiring}}</td>
									<td title="''">
										<button type="button" class="btn btn-primary"
											ng-click="vm.editUser(user)">Edit</button>
									</td>
									<td title="''">
										<button type="button" class="btn btn-danger"
											ng-confirm-click="Da li ste sigurni da zelite da obrisete korisnika ?"
											confirmed-click="vm.deleteUser(user.id)">Del</button>
									</td>
								</tr>
							</table>
						</div>
					</div>
					<script type="text/javascript">
						$(function() {
							$('#datetimepicker-paid').datetimepicker({
								format : 'DD-MM-YYYY'
							}).on('changeDate', function(e) {
								vm.uuser.datePaid = e.date;
							});
						});
					</script>
					<script type="text/javascript">
						$(function() {
							$('#datetimepicker-expiring').datetimepicker({
								format : 'DD-MM-YYYY'
							}).on('changeDate', function(e) {
								vm.user.dateExpiring = e.date;
							});
						});
					</script>

				</div>
			</div>
		</div>
	</div>
</div>